# coding: utf-8


def hist_maker(s):
    from math import log, ceil
    rrr = max(s) - min(s)
    k = int(round(1 + 3.32 * log(len(s), 10)))

    A = int(ceil(rrr / float(k)))
    # print rrr, k, A
    result = []

    for i in range(1, k + 1):
        mm = min(s) + (i - 1) * A
        MM = (min(s) + i * A)
        l1 = len([x for x in s if x >= mm and x < mm + A])
        l2 = len([x for x in s if x < mm + A])

        result.append([i, [mm,  mm + i < k and (A-1) or A], l1, l2])
    return result


Students_Results = [27, 65, 67, 14, 30, 22, 84, 34, 34, 45, 61, 36, 69, 56, 62, 56, 37, 83, 41, 87, 96, 21, 81, 38, 2, 66, 87, 43, 58, 72, 56, 82, 84, 50, 39, 36, 54, 82, 67, 56, 99, 88, 75, 70, 62, 93, 68, 16, 67, 6, 56, 89, 53, 92, 60, 44, 18, 91, 43, 82, 51, 34, 42, 42, 50, 19, 97, 80, 66, 8, 88, 10, 76, 79, 68, 92, 58, 87, 17, 56, 86, 78, 98, 52, 72, 80, 60, 87, 76, 87, 50, 55, 88, 59, 33, 84, 86, 65, 73, 61, 62, 75, 93, 30, 48, 50, 65, 19, 60, 86, 89, 83, 81, 73, 62, 47, 89, 74, 38, 73, 46, 90, 58, 90, 48, 18, 98, 59, 86, 61, 36, 69, 45, 95, 33, 91, 97, 91, 74, 39, 38, 11, 42, 33, 43, 42, 87, 52, 22, 93, 80, 40, 15, 67, 23, 96, 37, 14, 62, 67, 40, 99, 52, 84, 82, 76, 64, 81, 36, 81, 31, 31, 3, 15, 15, 9, 66, 34, 38, 96, 31, 61, 26, 22, 49, 70, 67, 39, 58, 7, 42, 58, 79, 68, 37, 65, 82, 89, 69, 11]

print sorted(Students_Results)

print hist_maker(Students_Results)

assert hist_maker(Students_Results) ==  [[1, [2, 12], 9, 9], [2, [13, 23], 16, 25], [3, [24, 34], 14, 39], [4, [35, 45], 28, 67], [5, [46, 56], 22, 89], [6, [57, 67], 33, 122], [7, [68, 78], 21, 143], [8, [79, 89], 37, 180], [9, [90, 100], 20, 200]]

[[1, [2, 16], 3, 3], [2, [17, 31], 3, 6], [3, [32, 46], 5, 11], [4, [47, 61], 11, 22], [5, [62, 76], 14, 36], [6, [77, 91], 4, 40]] should equal
[[1, [2, 16], 3, 3], [2, [17, 31], 3, 6], [3, [32, 46], 5, 11], [4, [47, 61], 11, 22], [5, [62, 76], 14, 36], [6, [77, 92], 4, 40]]

# assert hist_maker(Students_Results) == [[1, [2, 16], 3, 3], [2, [17, 31], 3, 6],
#                                         [3, [32, 46], 5, 11], [4, [47, 61], 11, 22], [5, [62, 76], 14, 36], [6, [77, 92], 4, 40]]
